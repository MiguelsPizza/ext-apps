<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light dark">
  <title>HTTP Adapter Demo</title>
</head>
<body>
  <main class="main">
    <header class="hero">
      <h1>HTTP Adapter Demo</h1>
      <p>Fetch and XHR requests are proxied through the MCP <code>http_request</code> tool.</p>
    </header>

    <p class="notice">Watch activity in the DevTools console!</p>

    <section class="panel">
      <h2>Fetch -> http_request</h2>
      <div class="row">
        <p><strong>Server Time:</strong> <code id="server-time">Loading...</code></p>
        <button id="get-time-btn">GET /api/time</button>
      </div>
      <div class="row">
        <input type="text" id="fetch-item-input" placeholder="New item (fetch)">
        <button id="fetch-add-btn">POST /api/items</button>
      </div>
      <div class="row">
        <button id="fetch-list-btn">GET /api/items</button>
      </div>
    </section>

    <section class="panel">
      <h2>XHR -> http_request</h2>
      <div class="row">
        <input type="text" id="xhr-item-input" placeholder="New item (xhr)">
        <button id="xhr-add-btn">POST /api/items/xhr</button>
      </div>
      <div class="row">
        <button id="xhr-list-btn">GET /api/items</button>
      </div>
    </section>

    <section class="panel">
      <h2>Items</h2>
      <p class="meta">Last request: <span id="last-request">Idle</span></p>
      <pre id="items-output" class="code-block">[]</pre>
    </section>

    <section class="panel">
      <h2>Host Actions</h2>
      <div class="row">
        <textarea id="message-text">This is message text.</textarea>
        <button id="send-message-btn">Send Message</button>
      </div>

      <div class="row">
        <input type="text" id="log-text" value="This is log text.">
        <button id="send-log-btn">Send Log</button>
      </div>

      <div class="row">
        <input type="url" id="link-url" value="https://modelcontextprotocol.io/">
        <button id="open-link-btn">Open Link</button>
      </div>
    </section>
  </main>
  <script type="module" src="/src/mcp-app.ts"></script>
</body>
</html>
